{"version":3,"sources":["src/lib/collision.ts","src/lib/engine.ts","src/index.ts"],"names":[],"mappings":"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","file":"src.d6d758af.js","sourceRoot":"..","sourcesContent":["import { Draw } from \"./engine\";\n\nfunction biggerBall(x: Draw, y: Draw): [Draw, Draw] {\n  if (x.radius > y.radius) return [x, y];\n  return [y, x];\n}\nexport function collision(target: Draw, check: Draw): boolean {\n  if (target !== check) {\n    if (\n      target.x + target.radius > check.x &&\n      target.y + target.radius > check.y &&\n      target.x < check.x + check.radius &&\n      target.y < check.y + check.radius\n    ) {\n      let tX = target.xFlag;\n      let tY = target.yFlag;\n\n      target.xFlag = check.xFlag;\n      target.yFlag = check.yFlag;\n\n      check.xFlag = tX;\n      check.yFlag = tY;\n\n      target.x += (target.radius / 2 + check.radius / 2) * target.xFlag;\n      target.y += (target.radius / 2 + check.radius / 2) * target.yFlag;\n\n      check.x += (target.radius / 2 + check.radius / 2) * check.xFlag;\n      check.y += (target.radius / 2 + check.radius / 2) * check.yFlag;\n\n      let bigger = biggerBall(target, check);\n\n      let timesBigger = Math.floor(bigger[0].radius / bigger[1].radius);\n\n      bigger[1].booster += timesBigger;\n\n      bigger[0].booster += 1;\n\n      return true;\n    }\n  }\n\n  return false;\n}\n","export class Draw {\n  x = 0;\n  y = 0;\n  flag = false;\n  xFlag: number;\n  yFlag: number;\n  radius: number;\n  booster = 1;\n  target: HTMLDivElement;\n  constructor(height: number, width: number) {\n    this.xFlag = Math.random() < 0.5 ? 1 : -1;\n    this.yFlag = Math.random() < 0.5 ? 1 : -1;\n\n    this.radius = height;\n\n    this.target = document.createElement(\"div\");\n\n    this.target.style.width = width + \"px\";\n    this.target.style.height = height + \"px\";\n    this.target.className = \"d1\";\n\n    this.target.style.backgroundColor = Draw.getColor();\n\n    this.x = Math.floor(Math.random() * window.innerWidth);\n    this.y = Math.floor(Math.random() * window.innerHeight);\n\n    this.target.style.transform = `translate(${this.x + \"px\"}, ${\n      this.y + \"px\"\n    })`;\n\n    Draw.root!.appendChild(this.target);\n\n    this.target.onclick = () => {\n      this.booster += 2;\n      this.xFlag = -1 * this.xFlag;\n      this.yFlag = -1 * this.yFlag;\n    };\n  }\n  static root = document.querySelector(\".root\");\n\n  static getColor(): string {\n    return (\n      \"#\" + (\"00000\" + ((Math.random() * (1 << 24)) | 0).toString(16)).slice(-6)\n    );\n  }\n\n  render() {\n    if (this.booster > 40) {\n      this.booster = 2;\n    }\n    if (this.flag) {\n      this.flag = false;\n      this.target.style.transition = \"transform 40ms linear\";\n    }\n    if (this.x <= 0) {\n      this.x = window.innerWidth;\n      this.flag = true;\n    } else if (this.x >= window.innerWidth) {\n      this.x = 0;\n      this.flag = true;\n    }\n    if (this.y <= 0) {\n      this.y = window.innerHeight;\n      this.flag = true;\n    } else if (this.y >= window.innerHeight) {\n      this.y = 0;\n      this.flag = true;\n    }\n    if (this.flag) {\n      console.log(\"reset\");\n\n      this.target.style.transition = \"\";\n    }\n    this.target.style.transform = `translate(${\n      (this.x += this.booster * this.xFlag) + \"px\"\n    }, ${(this.y += this.booster * this.yFlag) + \"px\"})`;\n  }\n}\n","import { collision } from \"./lib/collision\";\nimport { Draw } from \"./lib/engine\";\n\nlet i = 0;\nlet drawEntities: Array<Draw> = [];\n\nwhile (i < 10) {\n  let x = Math.floor(Math.random() * 80 + 18);\n  drawEntities.push(new Draw(x, x));\n  i++;\n}\n\ntype tuple = [Draw, Draw];\nlet arr: [tuple] | any;\n\nfunction checkIfVisited(tup: tuple): boolean {\n  for (let i = 0; i < arr.length; i++) {\n    if (tup[0] === arr[i][1] && tup[1] === arr[i][0]) return true;\n  }\n  return false;\n}\nconst nav = document.querySelector(\".nav\")!;\nfunction printSystemChaos(arr: Array<Draw>) {\n  let x = 0;\n  arr.forEach((a) => (x += a.booster));\n  x = x / arr.length;\n  nav.textContent = x + \"\";\n}\n\nfunction gameLoop() {\n  printSystemChaos(drawEntities);\n  arr = [];\n  for (let i = 0; i < drawEntities.length; i++) {\n    for (let j = 0; j < drawEntities.length; j++) {\n      if (!checkIfVisited([drawEntities[i], drawEntities[j]])) {\n        const res = collision(drawEntities[i], drawEntities[j]);\n        if (res) {\n          arr.push([drawEntities[i], drawEntities[j]]);\n        }\n      }\n    }\n  }\n  drawEntities.forEach((entity: Draw) => {\n    entity.render();\n  });\n  // drawEntities = drawEntities.map(collision);\n  requestAnimationFrame(gameLoop);\n}\ngameLoop();\n"]}